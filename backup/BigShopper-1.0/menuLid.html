<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Titvdvdvdvdle</title>
</head>
<body>
<h1 >Komt nog</h1>
<li>
    <a href="/restservices/online/lidOnlineKeuze">See all online</a>

</li>

<h3>Schrijf je in voor een les </h3>
<form id="inschrijvenLess">
    <label for="naamLes">naamLes:<input type="text" id="naamLes" name="naamLes"/></label>
    <label for="name">name :<input type="text" id="name" name="name"/></label>
    <label for="pass">pass<input type="text" id="pass" name="pass"/></label>
    <label for="role">role<input type="role" id="role" name="role"/></label>
    <input type="button" id="schrijfIn" value="schrijfIn"/>
</form>


<script>
    window.addEventListener("load", function(){
        document.querySelector("#schrijfIn").addEventListener("click", inschrijvenLes);
    })
    async function inschrijvenLes() {
        let formData = new FormData(document.querySelector("#inschrijvenLess"));

        let requestData= {
            naamLes : formData.get('naamLes'),
            name : formData.get('name'),
            pass : formData.get('pass'),
            role : formData.get('role')
        }
        fetch("restservices/priveLes", {
            method: "POST",
            body: JSON.stringify(requestData),
            headers: {"Content-type": "application/json"}
        })
            .then(response => response.json())
            .then(data=> console.log(data))
            .catch(error => console.log(error))
    }






    // let requestData = {
    //     listname: formData.get("naamLes"),
    //
    // }
    // let requestDataUser ={
    //     name: formData.get("name"),
    //     pass: formData.get("pass"),
    //     role:formData.get("role")}

    // fetch("restservices/priveles", {
    //     method: "POST",
    //     body: JSON.stringify(requestData +requestDataUser ),
    //     headers: {"Content-type": "application/json"}
    // })
    //     .then(response => response.json())
    //     .then(data => console.log(data))
    //     .catch(error => console.log(error))
    // }


</script>
</body>
</html>